<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Meta tags -->
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="mobile-web-app-capable" content="yes">

		<!-- style sheets -->
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
		<link rel="stylesheet" type="text/css">
		<style type="text/css">
				body {padding:0; margin:0; font-family:arial; background-color:#fff; color:#555;}
				#header {background-color: #d41200; }	
		#header-content {padding:8px 8px;}	
		#header-content h1 {margin:0; padding:0; float:left;}
		#header-content .phone {padding:8px 0; float:left;}
		#header-content .link {font-size:13px;}

div {box-sizing:border-box;}
ul {list-style-type: none; padding:0; margin:0;}
a {color:#026dc5; text-decoration: none;}

#page-wrapper {background-color:#f5f4f0;}

		@media screen and (min-width: 420px) {
    		#page-wrapper {
        		max-width:360px;
        		margin:0 auto;
        		background-color:#f5f4f0;
        		border-left:1px solid #ddd;
        		border-right:1px solid #ddd;
    		}
		}

		</style>

	</head>

	<body>

	<div id="page-wrapper">
		

	

		<div id="header-wrapper">
			<div id="header">

		<div id="header-content">
			
			
			
				<div style="overflow:hidden; color:#fff; width:100%">
					<img src="../../logo/hcom_logo_white.svg" style="height:30px;"/>
					<div style="float:right">
						<i class="fa fa-phone" aria-hidden="true"></i>&nbsp;&nbsp;&nbsp;<i class="fa fa-user" aria-hidden="true"></i>
					</div> 
				</div>
				
				
			
			
		</div>
	</div>

		</div>
		<div style="padding:8px 8px 8px; ">
			<div style="border-radius:2px; background-color:#fff; min-height:20px; font-size:13px; position:relative; margin:0px 0px 0px; color:#555; padding:8px 8px 0px 8px; border:solid 1px #ddd; -webkit-box-shadow: 0px 1px 1px 0px rgba(153,153,153,1);
-moz-box-shadow: 0px 1px 1px 0px rgba(153,153,153,1);
box-shadow: 0px 1px 1px 0px rgba(153,153,153,1);">
					<div style=" font-weight:bold; font-size:14px">London, United Kingdom</div>
					<div style="padding:4px 0 0 0; font-size:12px;">Fri 24 - Sat 25 June 2016, 1 room 2 adults</div>
					<div style="position:absolute; right:0px; top:0px; bottom:25px; background-color:#026dc5; color:#fff;  padding:8px 4px 0; border-radius:0px; text-align:center; box-sha/dow: inset 0 -2px 0 #003789; border-left:solid 0px #026dc5">
						<i class="material-icons" style="font-size: 28px">search</i>
						
					</div>
					<div style="box-sizing: border-box; margin:8px -6px 2px; padding:4px 8px 4px; color:#026dc5; background-color:#fff; border-top:solid 1px #ddd; font-size: 12px">
						> Recent searches
					</div>
				</div>
		</div>
		<style type="text/css">
			.summary {padding:12px 8px;}
			.dest {font-weight: bold; font-size:12px; margin-bottom: 4px;}
			.dates {font-size:12px; margin-bottom: 4px;}
			.search .change {display: inline-block; padding:4px 8px; color:#fff; background-color: #000; font-size: 12px;}
		</style>
		<!--<div class="summary">
			<div class="dest">Las Vegas, Nevada, United States of America</div>
			<div class="dates">Tue 20 - Wed 21 March 2018, 1 night, 1 room, 2 adults</div>
			<div class="search"><span class="change">Change search</span></div>
		</div>-->


		<style type="text/css">
			.tools {padding:8px 8px 8px; overflow:hidden;}
			.tools li.left {float:left; margin-right:8px;}
			.tools li.right {float:right;}
			.tools li .cta-primary {background-color: #026dc5; color:#fff; padding:8px 16px; text-align: center; width:100%; font-size: 13px; border-radius:2px; border:0; box-shadow:inset 0 -2px 0 #003789;}
			.tools li .cta-secondary {background-color: #fff; color:#026dc5; padding:8px 16px; text-align: center; width:100%; font-size: 13px; border-radius:2px; border:1px solid #026dc5;}
		}
		</style>

		<ul class="tools">
			<li class="left"><a href="#" class="cta-primary">Filters</a></li>
			<li class="left"><a href="#" class="cta-primary">Sort</a></li>
			<li class="right"><a href="#" class="cta-secondary">Map</a></li>
			<!--<li style="position:relative; background-color:#fff; border:solid 1px #026dc5; font-weight:bold; padding:4px 4px; border-radius:0px;  flex-grow:1;">
				
				<label style="font-size:11px; font-weight:normal; display:block; padding:0 4px">Sort by:</label>
				<select style="font-size:13px; font-family:arial; padding:0; color:#026dc5; background: transparent; border:none; width:100%; outline:none;">
					<option>Our favourites</option>
					<option>Stars (high to low)</option>
					<option>Stars (low to high)</option>
					<option>Distance to city center</option>
					<option>Guest rating</option>
					<option>Price (high to low)</option>
					<option>Price (low to high)</option>
				</select>
				
			</li>-->
			
		</ul>
		

		<div id="hotel-list">
			<div class="hotel-card"></div>
			<div class="hotel-card"></div>
			<div class="hotel-card"></div>
			<div class="hotel-card"></div>
			<div class="hotel-card"></div>
			<div class="hotel-card"></div>
		</div>




		<script id="hotel-card-template" type="text/x-handlebars-template">
 			{{#each hotels}}
 				<div class="hotel-card">
 					<div class="thumbnail">
 						<img src="{{thumbnailUrl imageUrl}}" />
 					</div>
 					<div class="details">
 						<div class="name"><a href="#">{{hotelName}}</a></div>
 						<div class="neighbourhood">{{neighbourhood location}}</div>
 						<div class="proximity-base">{{distanceFromBaseLandmark}} to city center</div>
 					</div>
 					<div class="rating">
 						<div class="guestRating">
 							<span class="qual">{{qualitativeBadgeText}}</span> 
 							<span class="score">{{guestReviewRating}}</span> / 5 
 							<span class="numReviews">{{numberOfGuestReviews}} reviews</span>
 						</div>
       	 				<div class="taGuestReview">
       	 					<img class="owl" src="i/ta-owl.png" /><img class="circles" src="i/ta-circles.png" /> 
       	 					<span class="numReviews">100 reviews</span>
       	 				</div>
 					</div>
 					<div class="price">
 						{{#if promoPriceDetails}}
										{{#if promoPriceDescription.length}}
       	 								<div class="special-deal">
       	 									<span class="promo-price-description">{{promoPriceDescription}}</span>
       	 									<span class="strikethrough">{{avgPrice}}</span> 
       	 									<span class="total">{{promoPriceDetails.prefix}}{{promoPriceDetails.formattedValue}}</span>
       	 								</div>
       	 							{{else}}
       	 								<div class="standard">{{promoPriceDetails.prefix}}{{promoPriceDetails.formattedValue}}</div>
       	 							{{/if}}
       	 				
       	 						{{else}}
       	 							<div class="standard">{{avgPrice}}</div>
       	 						{{/if}}
       	 						<span class="smallprint">price for 1 night including taxes and fees</span>
 					</div>
 				</div>
 			{{/each}}
    	</script>	

    	</div>

    	<style type="text/css">
    		#hotel-list {margin:8px 0;}
    		.hotel-card {background-color: #fff; min-height:120px; margin:4px 8px; border: solid 1px #e5e3db; position:relative;}
    		.hotel-card .thumbnail {position:absolute; top:0px; left:0px; bottom:0px; width:30%; text-align: center; overflow: hidden;}
			.hotel-card .thumbnail img { position: relative; left: 100%; margin-left: -200%; height:100%;}
			.hotel-card .details, .hotel-card .price, .hotel-card .rating {margin-left:30%; box-sizing:border-box; padding:0 12px;}
			.hotel-card .details {margin-top:8px;}
			.hotel-card .name {font-size:14px; line-height: 18px;}
			.hotel-card .neighbourhood {font-size:12px; line-height: 16px}
			.hotel-card .proximity-base {font-size:12px; line-height: 16px}

			.hotel-card .rating {margin-top:8px;}
			.hotel-card .rating .guestRating {font-size: 14px; line-height: 16px; font-weight:bold;}
			.hotel-card .rating .guestRating .numReviews {font-size: 11px; line-height: 13px; color:#999; font-weight: normal; display:inline-block; vertical-align: bottom; margin-left:4px;}
			.hotel-card .rating .taGuestReview {}
			.hotel-card .rating .taGuestReview .owl {height:13px; display:inline-block;}
			.hotel-card .rating .taGuestReview .numReviews {font-size:11px; line-height: 15px; color:#999; display:inline-block;}

			.hotel-card .price {text-align:right; margin-top:8px; padding:0 12px 4px 0;}
			.promo-price-description {display:block; font-size:12px; line-height:16px; font-weight:bold; color:#d41200;}
			.strikethrough {font-size: 14px; text-decoration: line-through;}
			.total {font-size:20px; color:#d41200; font-weight:bold;}
			.smallprint {font-size:11px; color:#999;}
			.standard {font-size:20px; font-weight:bold;}
    	</style>

		<!-- Scripts -->
		<!-- JQuery Google CDN -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		
		<script src="../handlebars.js"></script>

		<script type="text/javascript">

			// run things on page load
			$(function(){
      			
				//$( "#header-wrapper" ).load( "../components/c-header-n/ew.html" );
				$.getJSON( "../ny-json.js", function(data){
					console.log(data);
					displayHotels(data);
				});
			});

			var displayHotels = function(data){
				// get hotel data
				var hotels = data.result;
				console.log(hotels);
				
				// attach to handle bar template
        		var source   = $("#hotel-card-template").html();
  				var template = Handlebars.compile(source);
  				$("#hotel-list").html(template(hotels));
			}

			Handlebars.registerHelper("thumbnailUrl", function(imageUrl){
				var url = imageUrl.replace("_b.jpg", "_l.jpg");
				return url;
			});

			Handlebars.registerHelper("neighbourhood", function(location){
				var res = location.split("/");
				//var url = imageUrl.replace("_b.jpg", "_l.jpg");
				return res[0];
			});

		</script>
	</body>
</html>